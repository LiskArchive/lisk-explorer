<!--
/*
 * LiskHQ/lisk-explorer
 * Copyright Â© 2018 Lisk Foundation
 *
 * See the LICENSE file at the top-level directory of this distribution
 * for licensing information.
 *
 * Unless otherwise agreed in a custom licensing agreement with the Lisk Foundation,
 * no part of this software, including this file, may be copied, modified,
 * propagated, or distributed except according to the terms contained in the
 * LICENSE file.
 *
 * Removal or modification of this copyright notice is prohibited.
 *
 */
-->
<section>
    <div class="row">
        <div class="col-xs-12 col-md-12">
            <div class="page-header">
                <h1>Blocks <small data-ng-if="vm.blocks.length > 1">{{vm.blocks[0].height}} &#8594; {{vm.blocks[vm.blocks.length - 1].height}}</small></h1>
            </div>
            <div class="table-responsive">
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th class="text-right">Height</th>
                            <th class="text-right hidden-xs">Timestamp</th>
                            <th class="text-right hidden-xs">Transactions</th>
                            <th class="text-right hidden-xs hidden-sm">Generated by</th>
                            <th class="text-right hidden-xs hidden-sm">Amount ({{$root.currency.symbol}})</th>
                            <th class="text-right hidden-xs hidden-sm">Forged ({{$root.currency.symbol}})</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-if="loading">
                            <td colspan="7">Waiting for blocks <i class="fa fa-spinner fa-spin"></i></td>
                        </tr>
                        <tr data-ng-repeat='block in vm.blocks track by block.id'>
                            <td><a class="ellipsis" href="/block/{{block.id}}">{{block.id}}</a></td>
                            <td class="text-right"><span class="ellipsis">{{block.height}}</span></td>
                            <td class="text-right hidden-xs"><span class="ellipsis">{{block.timestamp | timestamp}}</span></td>
                            <td class="text-right hidden-xs">{{block.transactionsCount}}</td>
                            <td class="text-right hidden-xs hidden-sm">
                                <a data-account-href="block.delegate">{{block.delegate.username || block.generator}}</a>
                            </td>
                            <td class="text-right hidden-xs hidden-sm">{{block.totalAmount | currency:$root.currency:$root.decimalPlaces}}</td>
                            <td class="text-right hidden-xs hidden-sm">{{block.totalForged | currency:$root.currency}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="btn-group btn-group-justified paginator" role="group" aria-label="Next Previous Blocks" data-ng-if="vm.pagination.more || vm.pagination.before">
                <div class="btn-group" role="group">
                    <a class="btn btn-default less-button bordered-button" data-ng-disabled="!vm.pagination.before" href="/blocks/{{vm.pagination.previousPage}}">Previous</a>
                </div>
                <div class="btn-group" role="group">
                    <a class="btn btn-default more-button bordered-button" data-ng-disabled="!(vm.pagination.more && vm.pagination.nextPage != 0)" href="/blocks/{{vm.pagination.nextPage}}">Next</a>
                </div>
            </div>
        </div>
    </div>
    <h2 class="text-center text-muted" data-ng-if="!loading && !vm.blocks.length">No blocks yet.</h2>
</section>
