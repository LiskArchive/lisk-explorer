<!--
/*
 * LiskHQ/lisk-explorer
 * Copyright Â© 2018 Lisk Foundation
 *
 * See the LICENSE file at the top-level directory of this distribution
 * for licensing information.
 *
 * Unless otherwise agreed in a custom licensing agreement with the Lisk Foundation,
 * no part of this software, including this file, may be copied, modified,
 * propagated, or distributed except according to the terms contained in the
 * LICENSE file.
 *
 * Removal or modification of this copyright notice is prohibited.
 *
 */
-->
<div class="alert alert-danger" data-ng-if="flashMessage">
	{{$root.flashMessage}}
</div>
<section>
	<div id="home" class="row">
		<div class="col-xs-12 col-md-12">
			<!-- Search component -->
			<search class="visible-xs"></search>

			<h1>Latest Transactions</h1>

			<div class="table-responsive">
				<table class="table table-hover table-striped latest-transactions">
					<thead>
						<tr>
							<th class="left-padding-s left-padding-m left-padding-l">Id</th>
							<th class="text-right hidden-xs">Timestamp</th>
							<th class="text-right hidden-xs">Sender</th>
							<th class="text-right hidden-xs">Recipient</th>
							<th class="right-padding-s text-right">Amount ({{$root.currency.symbol}})</th>
							<th class="right-padding-m right-padding-l text-right hidden-xs">Fee ({{$root.currency.symbol}})</th>
						</tr>
					</thead>
					<tbody>
						<tr data-ng-if="!vm.txs.length">
							<td class="left-padding-s left-padding-m left-padding-l" colspan="6">Waiting for transactions...</td>
						</tr>
						<tr data-ng-repeat='tx in vm.txs track by $index'>
							<td class="left-padding-s left-padding-m left-padding-l"><a class="ellipsis" href="/tx/{{tx.id}}">{{tx.id}}</a></td>
							<td class="text-right hidden-xs"><span class="ellipsis">{{tx.timestamp | timestamp}}<span></td>
							<td class="text-right hidden-xs"><a class="ellipsis" data-account-href="tx" data-type="sender">{{tx | txSender}}</a></td>
							<td class="text-right hidden-xs">
								<a class="ellipsis" data-ng-show="tx.type == 0" data-account-href="tx" data-type="recipient">{{tx | txRecipient}}</a>
								<span class="ellipsis" data-ng-show="tx.type >= 1">{{tx | txRecipient}}</span>
							</td>
							<td class="right-padding-s text-right"><span class="ellipsis">{{tx.amount | currency:$root.currency:$root.decimalPlaces}}</span></td>
							<td class="right-padding-m right-padding-l text-right hidden-xs"><span class="ellipsis">{{tx.fee | currency:$root.currency}}</span></td>
						</tr>
					</tbody>
				</table>
			</div>

			<h1>Latest Blocks</h1>

			<div class="table-responsive">
				<table class="table table-hover table-striped latest-blocks">
					<thead>
						<tr>
							<th class="left-padding-s left-padding-m left-padding-l">Id</th>
							<th class="right-padding-s text-right">Height</th>
							<th class="text-right hidden-xs">Timestamp</th>
							<th class="right-padding-m text-right hidden-xs">Transactions</th>
							<th class="text-right hidden-xs hidden-sm">Generated by</th>
							<th class="text-right hidden-xs hidden-sm">Amount ({{$root.currency.symbol}})</th>
							<th class="right-padding-l text-right hidden-xs hidden-sm">Forged ({{$root.currency.symbol}})</th>
						</tr>
					</thead>
					<tbody>
						<tr data-ng-if="!vm.blocks.length">
							<td class="left-padding-s left-padding-m left-padding-l" colspan="7">Waiting for blocks...</td>
						</tr>
						<tr data-ng-repeat='b in vm.blocks track by $index'>
							<td class="left-padding-s left-padding-m left-padding-l"><a class="ellipsis" href="/block/{{b.id}}">{{b.id}}</a></td>
							<td class="right-padding-s text-right"><span class="ellipsis">{{b.height}}</span></td>
							<td class="text-right hidden-xs"><span class="ellipsis">{{b.timestamp | timestamp}}</span></td>
							<td class="right-padding-m text-right hidden-xs">{{b.transactionsCount}}</td>
							<td class="text-right hidden-xs hidden-sm"><a href="/address/{{b.generator}}">{{b.delegate.username || b.generator}}</a></td>
							<td class="text-right hidden-xs hidden-sm">{{b.totalAmount | currency:$root.currency:$root.decimalPlaces}}</td>
							<td class="right-padding-l text-right hidden-xs hidden-sm">{{b.totalForged | currency:$root.currency}}</td>
						</tr>
					</tbody>
				</table>
				<div class="btn-group btn-group-justified paginator" role="group">
					<div class="btn-group" role="group">
						<a href="/blocks/" class="btn btn-default see-all-blocks bordered-button">See all blocks</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
